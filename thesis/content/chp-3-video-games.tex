% 10 to 15 pages

Playing video games as a kind of entertainment would help people to have new internal experiences. The virtual world of video games let adults to play as new rolls and enjoy filling their heads with new thoughts and emotions. Games are opportunities for development and design of environments therefore the player can interactively experience various emotions and mental conditions. This interactive experience in contrast to cinema and other major types of entertainment is what makes them exceptional

In computer games, gameplay is usually considered of key importance ~\cite{rollings2006fundamentals, malone1982makes}. One can define gameplay as the pattern defined through the game rules ~\cite{salen2004rules, pajares2008understanding} connection between player and the game ~\cite{laramee2002game} or challenges ~\cite{rollings2003andrew} of the game. Gameplay is not a singular entity, it can consist of many different elements. In fact it is the result of a large number of contributing elements. Gameplay is essentially a synergy that emerges from the inclusion of certain factors ~\cite{rollings2003andrew}. In absence of a broadly accepted definition for gameplay, our focus here is targeted on one frequently mentioned element of it which is \textit{challenge}. The sense of challenge in video games is what keeps many people playing them. However this challenge element of the gameplay should be carefully adjusted for the targeted audience. The process of adjusting the challenge level of the game is usually referred to as game balancing. To balance the challenge level or difficulty scale of the game, designers change many interacting parameters to create a gameplay somewhere between too easy to be boring and too hard to be frustrating ~\cite{koster2013theory}. In this chapter, a history of related works investigating the relation between a game's difficulty level and various emotional states is provided.

\section{Gameplay and The Concept of Flow}

Mihaly Csikszentmihalyi, in the mid 70s, in an attempt to explain happiness, introduced the concept of \textit{flow}. His work as a professor of psychology has become fundamental to the field of positive psychology that essentially includes happiness, creativity, subjective well-being and fun ~\cite{csikszentmihalyi1990flow}. The feeling of complete and energized focus while engaged in an activity is what usually referred to as flow, this feeling also has an ambient sense of enjoyment and fulfillment ~\cite{csikszentmihalyi1990flow}. During the flow experience our high level of focus maximizes our performance and we essentially lose track of time and worries, rather we feel a pleasurable feeling from the activity. Flow is also referred to as the optimal experience or being in \textit{the zone}. This feeling is shared by every human being, and most probably has happened to one when he or she forgets to eat or sleep being so engaged in an activity.

Csikszentmihalyi in his work, identified eight major components of flow ~\cite{csikszentmihalyi1990flow}:

\begin{itemize}
\item A challenging activity requiring skill;
\item A merging of action and awareness;
\item Clear goals;
\item Direct, immediate feedback;
\item Concentration on the task at hand;
\item A sense of control;
\item A loss of self-consciousness; and
\item An altered sense of time.
\end{itemize}

From the above items, an activity doesn't necessarily require all the eight components to inspire the flow experience. In fact as far as we are concerned with gameplay in video games, the first item which relates to the challenge and the skill level is what we should pay attention to. Figure ~\ref{fig:challenge-vs-skill} shows Csikszentmihalyi's flow model in terms of challenge and skill level.

\img
{Challenge and skill level}
{Mental state in terms of challenge level and skill level, according to Csikszentmihalyi's flow model ~\cite{csikszentmihalyi1997finding}}
{challenge-vs-skill.pdf}
{challenge-vs-skill}

Although there are many components that go into a great player experience, games at their core motivate players by giving them the opportunity to demonstrate mastery over game challenges ~\cite{ryan2006motivational}. To feel accomplishment over mastering game challenges, designers change many parameters to create gameplay that resides somewhere between too easy to be boring and too hard to be frustrating ~\cite{koster2013theory}. Flow zone is an inspiring concept in flow theory and is illustrated in Figure ~\ref{fig:flow-zone}. What flow zone suggests, in order to sustain players' flow experience, is to balance the inherent challenge of the activity and the required player's ability (skills) to address and overcome it ~\cite{chen2007flow}. It avoids the activity to become so overwhelming by a challenge beyond player's ability and consequently generating anxiety; Also avoids failing to engage the player and become so boring due to a challenge level less than player's ability. However, this should be mentioned, we fortunately have tolerance for a temporary lack of stimulation, with an assumption of more is on the way. One should consider the flow zone as a fuzzy safe zone where the activity is not yet too challenging or boring ~\cite{csikszentmihalyi1990flow}.

\img
{Flow zone}
{Flow zone, the area where challenge and skill level match.}
{flow-zone.pdf}
{flow-zone}

As far as the content and premise of the activity is inherently appealing to the audience, the design of the interactive experience, such as video games, boils down to keeping the user or the player in the flow zone throughout the activity. While playing a video game gradually increases player's skill level, the designer should increase the required skill level by changing the challenge level of the game at the same pace to keep the player in the flow zone. Though acquiring skills gradually happens differently in various individuals. In fact designing such a balance between the challenge and skill level becomes a greater and greater challenge for the designer as the size of the targeted audience grows. For example when designing a game for kids, this balance would have a wholly different rate of change than when designing it for adults; And therefor balancing a game targeting both kids and adults using the preset static methods looks impossible.

\section{Dynamic Game Balancing vs. Static Game Balancing }

Many video games offer only a simple narrow and static experience, which is shown with the red line in Figure ~\ref{fig:flow-zone}. This statically preset path might keep the typical player in the flow zone but will not be fun for the hardcore or novice player ~\cite{chen2007flow}. For example simple skills for typical players such as walking in a 3D space and looking around by controlling the camera can be easily found new and quite cumbersome to many casual players who are only used to 2D side-scroller games. This frustrating introductory challenge combined with the main challenges of the game can totally turn the casual gamers turn away. One should note that frustration due to lack of skill during game play is not necessarily same as frustration caused by difficult game levels; In fact, Kiel pointed two kinds of frustration during games, the at-game-frustration and in-game-frustration. The first is due to lack of skill during game playing and the second in caused by difficult game levels ~\cite{gilleade2004using}.

\img
{Adapted flow zone}
{Adapted flow zone}
{flow-zone-adapted.pdf}
{adapted-flow-zone}

Addressing these game balancing issues, for many years, game designers aimed to provide some customizations, for example by letting players choose a difficulty level upfront or including progressive difficulty levels during gameplay, based on a player's performance; However more advanced methods that work in real-time are less common, most designers predefine levels of game challenge for players with different skill levels. The player then decides in which of those levels to play. Another approach to address this balance issue is by techniques known as rubber-band artificial intelligence (AI) ~\cite{champandard2003ai}: When falling behind, the player suddenly gets an enormous boost in speed, which allows for catching up again (and vice versa for the competing cars).

Designers work on many different aspects of the game to make it more balanced. Game balancing in terms of difficulty level and palyer experience is only one aspects balancing a game. Another important balancing issue is the concept of fairness in the game. A primary issue in compettivie games is that various settings of properties for different characters should have equal chances to win the game based on rules and starting posistions ~\cite{rollings2003andrew}. Balancing fairness may involve manipulations of different game elements - for example initial resources and abilities allocated to different player  types like Orcs or Humans in WarCraft. This type of static balancing is often carried out through repeated playtesting of the game mechanics and parameters such as tuning the capabilities of individual weapons or units ~\cite{boll2003paper, rollings2003andrew}.

\largeimg
{Call of Duty, static difficulty modes}
{Menu content for difficulty selection, Call of Duty: Modern Warfare (Wii)}
{cod-4-mw-wii-select-difficulty.png}
{cod-mw-difficulty}

In computer games development, designing agents whose behavior challenges human players adequately is a key issue. The idea of a dynamically adapting agent behavior or in other words balancing a game dynamically during game play is not new ~\cite{andrade2005automatic}. Dynamic game balancing (DGB) also known as dynamic difficulty adjustment (DDA) is the process of automatically changing parameters, scenarios, and behaviors in a video game in real-time, based on the player's ability, in order to avoid them becoming bored (if the game is too easy) or frustrated (if it is too hard). The goal of dynamic difficulty balancing is to keep the user interested from the beginning to the end and to provide a good level of challenge for the user. Dynamic balancing, considers a fully continuous spectrum of play, from the starting point of the game to its end. Dynamic balancing differs from static balancing because the interaction of the player or players with the game should be considered, and different units and parameters in the game configuration should be adapted based on the current state of the game ~\cite{tan2011dynamic} rather than at the start of play based on player models. Variable frequency of enemies in Diablo 3 and variable power of enemies in Assassin's Creed 4: Black Flag are examples of dynamic balancing during game play.

Many different approaches are found to address dynamic game balancing. In all cases, it is always necessary to measure the difficulty the user if facing during the game. This can happen either implicitly or explicitly. This measure tries to identify the difficulty the user is facing at a given moment. This measure is usually performed by a heuristic function, which is usually known as a challenge function. Given a specific game state this function can specify how easy or difficult the game feels to the user. Many different in-game properties such as the rate of successful shots or hits, the numbers of won and lost pieces, life points or time to complete some task can be used for this measure.

Huniche et al. ~\cite{hunicke2004ai} controled the game environment settins in order to increase or decrease the level of challenges. It is more likely for the player to get more ammunition and more frequent life points if the game is too hard rather than when the game is easier. Another straightforward approach is to combine such evnironmental manipulaitons with some mechanisms to adapt the behavior of the NPCs or intelligent agents controlled by the computer. This adjustment, however, should be made with moderation, to avoid the rubber-band effect.

Using behavior rules is one of most popular traditional implementations of such intelligent agents. For example in a typical fighting game, a behavior rule would state ``kick the opponent if he is reachable, chase him otherwise". Extending such an approach to include opponent modeling can be made through Spronck et al.′s dynamic scripting ~\cite{spronck2004difficulty} which assigns a probability to each rule. Rules probability weight can be dynamically changed and adjusted through the game according to the opponent skills, leading to adaptation to the specific user. For example rules can that are neither tool strong nor too weak for the current player can have higher probabilty to be picked.

\subsection{AI in Dynamic Game Balancing}

Works in the field of DGB is usually based on the hypothesis that interactions between player and opponents compared to the audiovisual features, is the major component that contributes the majority of the quality features of entertainment in a computer game ~\cite{schaalevolving}. In recent years many high quality games to a large degree rely on high quality AI as an important selling point ~\cite{forbus2002ai}. Many researches have been done on utilizing game AI to dynamically adjust the difficulty level. Xiang et al. in their work on dynamic difficulty adjustment by facial expression ~\cite{xiang2013dynamic} have employed Gaussian Mixture Module and multi variate pattern mining to model the player's reaction pattern ~\cite{lee2006dynamic, chiu2008using}. They have also controlled NPCs behaviors by reinforce learning algorithm ~\cite{spronck2004difficulty, andrade2005challenge}. Hunicke ~\cite{hunicke2004ai} used Hamlet system to predict when the player is repeatedly entering an undesirable loop, and help them get out of it, they have explored computational and design requirements for a dynamic difficulty adjustment system using probabilistic methods based on Half Life game engine. Joost ~\cite{westra2009adaptive} proposed an adaptation approach that uses expert knowledge for the adaptation. They used a game adaption model and organized agents to choose the most optimal task for the trainee, given the user model, the game flow and the capabilities of the agents. Hom ~\cite{hom2007automatic} used AI techniques to design balanced board games like checkers and Go by modifying the rules of the game, not just the rule parameters. Olesen has explored neuro-evolution methodologies to generate intelligent opponents in Real-Time Strategy (RTS) games and tried to adapt the challenge generated by the game opponents to match the skill of a player in real-time ~\cite{olesen2008real}.

Demasi and Cruz ~\cite{demasi2003line} developed NPCs employing genetic algorithms techniques to keep alive those agents that best fit the user skill level. Further studies by Yannakakis and Hallam ~\cite{yannakakis2006towards} have shown that artificial neural networks (ANN) and fuzzy neural networks can better recognise player staisfaction level than a human-designed one. Given appropriate estimators of the challenge and curiosity (intrinsic qualitative factors for engaging gameplay according to Malone) ~\cite{malone1982makes} of the game and data on human players' preferences.

\subsection{Dynamic Game Balancing in Recent Games}

In recent years many well known game titles have integrated more complex dynamic game balancing mechanisms. The 2008 video game Left 4 Dead integrated a new AI technollogy called \textit{The AI Director} ~\cite{left2008dead}. The AI Director monitors individual players' and group of players' performance and their progress in the game and how well they work together as a group, and then dynamically determines the details on the number of zombies that attack the player, and when boss fights to happen using the collected information about the player. It also make some decisions to control audiovisual elements of the game to attract players' attention to a certain area or set a mood for a boss fight ~\cite{left4dead2009handson}. This technic also called \textit{Procedural narrative} tries to analyze players' experience in the game and control up coming events to give the player a sense of narrative. In 2009, Resident Evil 5 employed the \textit{Difficulty Scale}, this mechanism mentioned in the official strategy guide, grades the players performance on a number of scale from 1 to 10, and dynamically adjusts NPC behaviors like attacking and the enemy strenght, damage and resistance base on the players' peformance. Player performance is estimated based on different in-game variables such as deaths, critical attacks etc.. The statically selected difficulty levels of the game lock players at a certain number; for example, the Normal difficulty, locks player performance at grade 4, though yet dynamically changing based on players' performance between 2 (if player is doing poorly) and 7 if doing well. Leading to some overlaps between different difficulty levels ~\cite{resident2009evil}. Fallout: New Vegas and Fallout 3 are of other well known game titles utilizing dynamic difficulty addjustment technics. In these titles player would encounter more challenging combatants while progressing in the game, the system is designed to retain a constant difficulty level while the player's skill increases during the game.

Addressing the game balance problem using predefined difficulty levels obviously cannot incorporate the needs of all potential players of the game while merely using player's in-game generated data and employing artificial intelligence sometimes generates predictable behaviors which reduce the believability of the non-player characters (NPCs). Furthermore, human players enhance their skills while playing a game which necessitates an adaptive mechanism that covers the player's need for more challenging NPCs during play ~\cite{olesen2008real}. We should also mention, with all development on AI in computer games, game players often still find playing against human controlled opponents (via a network) more interesting rather than computer controlled ones ~\cite{weibel2008playing}.

\section{Emotionally Adaptive Games}

While adjusting the challenge level is crucial to every entertaining video game the appealing gameplay might strongly differ per individual. For example skill level differences between different players might make a difficulty level which is enjoyable by a novice, totally boring for an expert player; Games therefore need psychological customization techniques ~\cite{saari2005towards}. Game adaptation that is solely based on in-game performance can only have limited success, because there are many different types of players ~\cite{bartle1996hearts}. Each type of player has his/her own goals, preferences and emotional responses when playing a game. Hence, for optimizing the players' experiences. successful psychological customization requires a game to take the emotional state of the player into account. Games should become emotionally adaptive (Figure ~\ref{fig:affective-game-system}) ~\cite{tijs2009creating}.

The importance of emotions in computing is widely argued for (e.g. ~\cite{picard2003affective}). Affective computing can have a major impact on not only video games but any form of computing with demand of human interaction. The concept of affective gaming was first introduced by Wehrenberg, Charles through using Biofeedback to control a game based on relaxation level. It was one of the earliest studies on correlating a game with player's biofeedback. After years of research the project was first implemented in 1984 for Apple II computers. The results of that study proved that human arousal level can actually be measured through GSR and employed to control a game ~\cite{wehrenberg1995willball}. Different emotion theories as described in chapter ~\ref{chap:emotion} can be utilized for analysise and estimation of human affect state while interacting with computing machines. While user's affect state can dynamically change during an interactive experience, an effective human-computer interaction from an emotion perspective works in terms of an \textit{affective loop} ~\cite{sundstrom2005user}. Polaine in his work on the flow principle in interactivity ~\cite{polaine2005flow} argues that true is a feedback loop of action-reaction-interaction and involves collaboration or exchange (with real or computer agents). Our work also bases on a similar feedback loop in a game context to dynamically adjust game's difficulty level by looking at user's affect state. Figure ~\ref{fig:affective-game-system} ~\cite{tijs2009creating} shows a schematic view of this closed affective loop of an emotionally adaptive game. In this closed loop, by continuously looking at the gamers emotional state the game influences the player's experience and emotional state by providing the right game mechanics ~\cite{hunicke2004mda}.

% Creating an Emotionally Adaptive Game.pdf
p Ideally, during play, the emotional state of the player (measured in terms of emotion-data), is continuously being fed back to the game so that the game can adapt its mechanics (e.g. difficulty level) accordingly in real-time. This all is done to create the optimal experience (which is referred to in literature as e.g. flow [13] or immersion [14]).
% Creating an Emotionally Adaptive Game.pdf

\img
{Emotionally adaptive games}
{The emotionally adaptive game loop, inspired on the affective loop ~\cite{sundstrom2005user}.}
{affective-game-system.pdf}
{affective-game-system}

% Creating an Emotionally Adaptive Game.pdf
Previous research attempts to create emotionally adaptive software have mainly focused on tutoring systems and workload / performance optimization (see e.g. [15]). Fewer attempts have been made to incorporate a closed-loop mechanism in a games context. Takahashi et al. [16] and Rani et al. [17] created a game that was found to improve player performance by adapting difficulty level to player's physiological state. Concept validation claims of these both studies were, however, based on a limited number of participants. Besides these attempts, a number of biofeedback games have recently been developed, which have some integration of a player's physiological data into the game (e.g. [18], [19] and [20]). These games however focus on stress manipulation rather than optimization of gameplay experience. Probably closest to the present project's scope is the work of Saari and colleagues, who created the Mind-Based Technology framework for psychological customization [21]. They have further elaborated this in a games context (e.g. [4], [22]) and are currently developing an emotionally adaptive game demo. As a first step in creating an emotionally adaptive game, system input and output need to be specified in further detail. Regarding output (emotion-data), Saari et al. [22] provide an extensive discussion of possible elements to be adapted, structured by \"psychologically validated templates\". We have adopted a rather straightforward and intuitive \"template\": Game speed. We will manipulate the game's speed to influence the player's emotional state (the interplay between boredom, frustration and enjoyment, Fig. 1-left panel). Regarding system input (emotion-data), Öhman [23] distinguished three categories of emotion measures: Self-reports, overt behavior and physiological responses. Self-reports are frequently used for assessing players' emotions and experiences [5] but not suitable (since too obtrusive) for real-time application in a game. Regarding overt behavior, potentially useful techniques for measuring boredom, frustration and enjoyment are facial emotion tracking [24] and the analysis of posture and pressure exerted on the game controls [25]. Regarding physiological responses, there is an extensive field with many research findings in psychophysiology. Although the research is done in varying contexts with sometimes contradicting results, it is considered a highly interesting field for analyzing emotions in games. We have limited ourselves to the methods described below. Regarding cardiovascular (heart) activity, tonic (long-term, as opposed to phasic) heart rate (HR) is known to increase with sympathetic nervous system activity, such as emotional arousal and cognitive effort and stress. On the other hand, increases in attention (mediated in the parasympathetic nervous system) lead to a decreased heart rate [26]. [27] found HR features to correlate with self-reported fun in games. Heart rate variability (HRV) is considered an index for mental effort (e.g. [28]). Some researchers (e.g. [29]) consider the percentage power in the low-frequency (LF) 0.070.14 Hz range as a particularly effective index for task-related mental effort / sympathetic activity. Respiratory responses are analyzed to control for respiratory artifacts in e.g. HRV (a phenomenon known as respiratory sinus arrhythmia). Respiration may, however, also be used as a measure itself, e.g. for investigating stress and mental load [30]. Electrodermal activity (EDA) concerns the electrical resistance of the skin, also known as Skin Conductance (SCL, SCR) or Galvanic Skin Response (GSR). Skin conductance level is known to increase with information processing and the frequency of non-specific skin responses increases with arousal [26]. Electromyography (EMG) is a technique for measuring muscle activity; electric potential is being generated when muscle cells contract. Facial EMG is frequently used as a metric for valence. The most frequently analyzed facial muscles in this context are the orbicularis oculi (OO, used for closing the eyelids), zygomaticus major (ZYG, smiling) and corrugator supercilii (CORR, frowning). Most studies find positive correlations between valence and the OO and ZYG muscles, and a negative correlation between valence and CORR muscle (see e.g. [31], [32], [33]). In addition to the above findings, there are also a considerable number of studies without significant findings [34]. Because of the large differences in physiological responses between individuals and within individuals over time (autonomic response stereotypy principle, see e.g. [15], [35]), some researchers (e.g. [36]) argue for normalizing physiological data to facilitate a group analysis of the data. Additionally, affective systems should employ a battery of physiological features for accurate emotion predictions (e.g. [37]), and should allow for user-control for the sake of autonomy, privacy and interpretation of the data [41]. Because of the context-dependency of physiological responses, a two-stage approach was adopted. The purpose of the current initial study is to investigate physiological and other affect-related responses in relation to an experimentally induced change in game mechanics. Note that in this study the affective loop is not yet closed, that is, real-time affective indicators are not yet directly influencing the game mechanics. This will be the purpose of phase 2 of our work. The research question for the current invesigation evolved around the components of our framework (Fig. 1 - right panel): What game mechanics (speed settings) lead to what kind of emotional state, and what emotion-data is this accompanied by? This was investigated by means of a controlled experiment, as explained in the next section.
% Creating an Emotionally Adaptive Game.pdf

% Emotionally Adapted Games - An Example of a First Person Shooter.pdf
p Emotionally adapted gaming can be seen as based on gaming templates which are parts of the meta-narrative of the game. Hence, a basic approach to an element to be adapted inside a game is a psychologically validated template which creates a particular psychological effect. A broad view of templates may be that the whole game consists of a database of psychologically validated templates that are dynamically presented by the gaming engine in sequences during gameplay. A limited view entails that a smaller collection of templates is used. The element of psychological evaluation means that the selected psychological influence (such an emotional response) of the template on a particular type of user is sufficiently predictable. These psychologically evaluated templates may consist of i) manipulating

% Emotionally Adapted Games - An Example of a First Person Shooter.pdf
p the substance of a game, such as story line (initiating events, new characters etc.) and manipulating the situations specifically related to the character of the player (such as putting the character into sudden and dangerous situations inside the game) and ii) manipulating the form or way of presentation of the game (such as visual elements, shapes, colors, types of objects, sound effects, background music, level of interactivity and feedback etc.). The difficulty level of the game may also be continuously automatically be adjusted, thereby keeping the skills and challenges in balance, which results in a maintenance of an optimal emotional experience and possibly also a flow-state. [14]  Why and when then to manipulate emotion in gaming on the basis of avoiding or approaching a specific emotional state? First, there are the transient basic emotional effects of games that are dependent of the phase of the game or some specific events. These are emotions such as happiness, satisfaction, sadness, dissatisfaction, anger, aggression, fear and anxiousness. These emotions are the basis of narrative experiences, i.e. being afraid of the enemy in a shooting game, feeling aggression and wishing to destroy the enemy and feeling satisfaction, even happiness, when the enemy has been destroyed. Emotional regulation systems in these instances most naturally may focus on manipulating the event structures, such as characters, their roles, events that take place and other features of the narrative gaming experience. [14] Second, there are possibilities for emotional management, especially in the case of managing arousal, alertness and excitation. Also, one may wish to manage negative emotions, such as sadness, dissatisfaction, disappointment, anger, aggression, fear and anxiousness. The case for managing these emotions is twofold. On the one hand, one may see that these emotions could be eliminated altogether in the gaming experience. This can happen via either eliminating, if possible, the emergence of such an emotion in the game. For example, one can make a deliberately happy game with level-playing monkeys in a far away island throwing barrels at obstacles and gathering points. This would include minimum negative emotions. Or, in a game where negative emotion is a basic part of the game, one may wish to limit the intensity, duration or frequency of the emotions via manipulating gaming events and gaming elements so that sadness or fear are at their minimum levels, or that gaming events do not lead to sadness at all. [14] Similarly, managing level of arousal or the intensity, duration and frequency of select negative emotions may be quite feasible in the case of children as a form of parental control. On the other hand, one may wish to maximize arousal, alertness and excitation, perhaps even anger, fear and aggression for hardcore gamers. Third, there are possibilities related to the avoidance of certain types of emotions that are typically indicative of a poor gaming experience. Inactivity, idleness, passivity, tiredness, boredom, dullness, helplessness as well as a totally neutral experience may be indicating that there is some fundamental problem in the user- game interaction. This could be due to poor gaming skills of the user vs. the difficult challenges of the game or some other factors, such as the user is stuck in an adventure game for too long and can not proceed without finding a magic key to enter the next level or so. When a gaming engine detects these emotions in the user, it may adapt its behavior to offer the user more choices of selecting the difficulty level of the game or offer the user some clues as to how to go forward in the game. The game can also adapt its level of difficulty to the player’s skill level. [e.g. 14]

% Emotionally Adapted Games - An Example of a First Person Shooter.pdf
p Fourth, it is also possible to create different combinations of emotional states (satisfied and angry) or emotional states and other psychological states (pleasant relaxation and efficient information processing) or emotional states and behavior (using specific motivational and action tendencies). [3]  All of these possibilities may be relevant. However, the elimination or minimization of certain emotions may be specifically feasible in the case of indicated overly poor gaming experience in which the game may adapt its behavior to assist the user. It should be noted that events in games may change quickly and produce complex situations and hence complex emotions that may change rapidly. Consequently, one should better integrate these approaches into the genre or type of the game, such as driving simulator, first person shooter, sports game such as golf, or an adventure game, or a level-playing game for children. [14]

\section{Related Work}

In this section a number of noticeable works related to emotionally adaptive games are introduced and some of their properties, achievements and limitations are investigated.

%Creating an Emotionally Adaptive Game.pdf
\subsection{Emotional State and Unguided Player Speed Variation}
Tijs et al. in their work on emotionally adaptive games have developed a version of the Pacman PC-game (Figure ~\ref{fig:pacman}) called Stimulus ~\cite{tijs2009creating}. They chose Pacman for a number of reasons to conduct their study, (1) relatively uncomplicated nature of the game without major changes in e.g. audiovisuals during play, which could lead to emotional bias, (2) being a well-known game and easy to pick up and consequently requiring relatively short practice to minimize learning effects, and also (3) because Pacman has a rather continuous flow of action which is beneficial when comparing blocks of time the game is played. Similar features of Pacman also has made the game being used in other affective computing studies (e.g. ~\cite{yannakakis2007towards}). However as their work describes a number of adaptations have been made to the game to suit the experiments: (1) The players have been playing the same level of difficulty during the experiment, (2) Entities that were eaten, such as points and pills, returned after a while (added back to the game scene), (3) The speed level of the player changed at preset times (unknown to the player), (4) Eating objects increased the player's score but being eaten by the enemies meant a strong decrease in score, and (5) The overall objective of the game was to score as many points as possible. Their choice for manipulating speed as the difficulty parameter, instead of e.g. the number of enemies has been due to the fact that the number of normal ghosts was constantly changed during the default gameplay as a result to Pacman eating star-shaped pills. This game was played using arrow keys on the keyboard, while all participants have been offered to use their preferred hands to play the game ~\cite{tijs2009creating}.

\img
{Pacman}
{Pacman - The original game used by Tijs et al.}
{pacman.png}
{pacman}

Tijs et al. study on Stimulus has shown the unguided adaption of players speed has resulted the slow-mode being too slow and the fast-mode being a bit too fast for some players but for others the right speed level. It has suggested that the speed level in the normal-mode might not be optimal either, but the players' experiences are better in that mode than in the other two.

They have described their work on induction of boredom, frustration and enjoyment through manipulation of the game mechanic \"speed\" partly successful. Nearly all players have shown indications of boredom during the slow-mode, however the fast-mode was found more enjoyable than frustrating. As they demonstrate in their work, players knew the game speed was going to change, and also they knew it only lasted for a limited amount of time. Besides the speed changes were rather abrupt. Finally they concluded nearly all participants describing the normal-mode the most enjoyable of the three.

%Affective Gaming - a GSR Based Approach .pdf
\subsection{Emotion and Different Difficulty Levels}
Aggag and Revett in their work on affective gaming with use of the GSR signal, have developed a basic first-person shooter (FPS) that was supposed to be played in two different difficulty levels interleavingly ~\cite{aggag2011affective}. They have considered players' stress level as a function of the difficulty of the game. They synchronously recorded players' GSR response to the difficulty level and then mapped this signal to what happened during the game. During the experiment they have set the difficulty level randomly such that the play was interleaved and balanced between difficulty levels. Their principal idea was to acquire the score from the player during low and challenging play periods in order to see if there was any difference that could be attributed to level of difficulty ~\cite{aggag2011affective}.

As Aggag and Revett described the result of their study, they have observed all subjects deployed in their study report that the game did induce feelings of stress at the same time points during the play. The players' GSR signal that was recorded during play was pooled according to difficult/non-difficult regions and the data was analyzed with respect to the frequency and amplitude of the responses throughout the two phases of the game for each phasic response. Their result indicate that during the stressful periods (higher difficulty level), the skin conductance level increase and the frequency of the spontaneous GSRs increased somewhat (from 0.5 to 2.3 per minute on average). Looking at the GSR values, the report it is clearly evident which phase of the game the player was involved in within 60 seconds of recording inspection. For next steps of their study, Aggag and Revett hoped to use the recorded GSR signal to provide subjects with a balance between basic and advanced play, such that the player feels comfortable with the level of difficulty as measuring using GSR. This is accomplished by providing the results of the GSR back to the game, whereby the game logic uses the value of the affective state of the player to adjust the difficulty level according to a player-centric requirement ~\cite{aggag2011affective}.

Aggag and Revett could not determine if level of arousal had any effect on players' score, as a reflection of player performance. Though what they observed is that the affective state of the player can influence performance. In their study, the increased difficulty level was usually along with increased score (performance). While they find it seemingly a counter-intuitive result, they suggest it should be due to increased engagement of the player which in turn may enhance their overall sensitivity to audio-visual stimuli and enhanced their reaction time. However due to the limitations of their study they refuse to draw a clear line of conclusion in this regard ~\cite{aggag2011affective}.

%% Affective gaming: measuring emotion through the gamepad.pdf
\subsection{Emotion and Standard Game Input Devices}
Sykes and Brown in their work on measuring emotion through gamepad ~\cite{sykes2003affective}, both from a marketing perspective and also targeting current generation of video-games and available gaming technologies, suggest to use current video game technologies to measure affect rather than introducing new paraphernalia to the gaming experience. They have used modern game consoles' controller analogue buttons which indicate the pressure used when playing a game. Possibility of detecting a person's emotion through finger pressure ~\cite{clynes1977sentics}, makes the analogue buttons on the gamepad a possible resource for collecting data.

In their study, Sykes and Brown have shown data from gamepad correlates with a player's level of arousal during game play. They have developed a remake of the classic arcade game `Space Invaders' (Figure ~\ref{fig:space-invaders}) for their study. Players needed to shoot alien spacecraft as they march down the screen toward them. It was possible for the players to move to their left or right to avoid offensive attacks. They could also return fire by pressing a button on the gamepad. They have conducted three levels of difficulty were meant to change the players' level of arousal in different levels: easy, medium and hard. For the medium level the alien craft would march twice as fast, and the player would have the benefit of only two barriers. In the hard level the tempo of the alien craft was increased by a further factor of two, and the barriers were removed completely ~\cite{sykes2003affective}. Players have played different levels in random order and the amount of pressure exerted by the player on each button press has been recorded by the game.

Although Sykes and Brown in their study do not investigate the effect of NPC and environmental factors separately but based on their results, they conclude it is possible to determine the level of a player's arousal by the pressure they use when controlling the gamepad.

\img
{Space Invaders}
{Space Invaders - The original game used by Sykes and Brown}
{space-invaders.png}
{space-invaders}

%% Dynamic Difficulty Adjustment by Facial Expression.pdf
\subsection{Difficulty Level and Facial Expression}
Xiang et al. ~\cite{xiang2013dynamic} in their study on dynamic difficulty adjustment by facial expression provided an emotion based dynamic game adjusting prototype named Emotetris, which utilizes facial expression captured using a camera and then detect emotional state of the player between four different states of frustrated, relax, excited and bored. Their prototype adjusts game difficulty level dynamically according to these emotional states. Their method of dynamic adjustment combines the in-game performance and facial expressions of players to dynamically adjust the game difficulty. In their study they have shown how better the dynamic difficulty adjustment can attract players' attention when they were bored and release the pressure when they were frustrated.

They have adjusted Tetris to evaluate the performance of player. In their prototype the speed of dropping items is the parameter to be adjusted as it directly affects players. In their study they used 20 participants, from which 16 players thought the game could make in-time adjustment when they were frustrated or bored. Also 14 players among them considered the expression based game adjustment is better than in-game performance based adjustment in brining them better game experience.

% Affective game engines: motivation and requirements.pdf
% Biofeedback game design: using direct and indirect physiological control to enhance game interaction.pdf
% Boredom, engagement and anxiety as indicators for adaptation to difficulty in games.pdf
% A semantic generation framework for enabling adaptive game worlds.pdf
% Using gameplay semantics to procedurally generate player-matching game worlds.pdf
% Dynamic Difficulty Adjustment in Computer Games Through Real-Time Anxiety-Based Affective Feedback.pdf
% Dynamic Game Balancing by Recognizing Affect.pdf
% Pervasive Game Flow - Understanding Player Enjoyment in Pervasive Gaming.pdf
% The Influence of Implicit and Explicit Biofeedback  in First-Person Shooter Games.pdf
% The use of video game achievements to enhance player performance, self-efficacy, and motivation.pdf
% User Performance Tweaking in Videogames - a Physiological Perspective of Player Reactions.pdf
% Using Frustration in the Design of Adaptive Videogames.pdf
% Emotionally Adapted Games - An Example of a First Person Shooter.pdf

\section{Adaptive Game Design}
\subsection{Player}
%todo: give examples of god of war, kratus rage mode with some photo

\largeimg
{God of War 2, Poseidon's rage concept art}
{God of War 2, gamer supposed to get excited through changes applied to player character}
{gow-2-poseidons-rage.jpg}
{gow-2-poseidons-rage}

\subsection{NPCs}
%todo: give examples of a situation in which npcs increase to excite the player with some photo

\largeimg
{Risen 2 boss fight}
{Risen 2 boss fight, gamer supposed to get excited through changes applied to the NPC}
{risen-2-boss-fight.jpg}
{risen-2-boss-fight}

\subsection{Environment}
%todo: give examples of chaning background like music, lighting etc with some photo.

\largeimg
{Risen boss fight}
{Risen boss fight, gamer supposed to get excited through changes applied to environment}
{risen-boss-fight.jpg}
{risen-boss-fight}


% TODO: talk a bout the following as a problem of this work
% However, how to change the game parameters in a certain situation is due to the custom of different players.
