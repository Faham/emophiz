% 5 to 10 pages
% talk about the experimentation
% adequacy, efficiency, productiveness, effectiveness
% (choose your criteria, state them clearly and justify them)
% be careful that you are using a fair measure, and that you are
% actually measuring what you claim to be measuring
% if comparing with previous techniques those techniques
% must be described in Chapter 2
% be honest in evaluation
% admit weaknesses

Although researchers have started to explore how affective signals can be used to augment, control, or adapt gameplay, there is still little systematic research to guide developers on how players respond to changes to different aspects of a game, such as the character, the enemies, or the environment. I performed a user study to determine the impact of adaptation mechanism on player experience. A four-condition (Default, Player adapted, NPC adapted, Environment adapted) play session was employed to evaluate performance and excitement as dependent variables.

\section{Participants}
After filling in consent forms consistent with our institutional ethics approval, data were recorded from 15 male and 1 female University students, aged between 18 and 32 ($M = 25.00$, $SD = 3.875$). Of the participants, 94.1\% were right-handed; 41.2\% of participants rated their computer skills as advanced while the rest of 58.8\% rated their skills as intermediate; 35.3\% of participants described themselves playing video games every day, whereas 41.2\% of them described themselves playing video games a few times per week and 17\% had been playing video games a few times per month, with the rest of 5.9\% having played video games a few times per year. All participants used the PC as gaming system and 76.48\% of them also have used at least one of the four popular console platforms (XBox360, PS3, PS2, Wii) for gaming. All of participants had at least some experience with 3D shooting games like First Person Shooters: 47.1\% described themselves as playing 3D shooting games many times, whereas another 41.2\% described themselves as experts in 3D shooting games – only 11.8\% had limited or intermediate experience with 3D shooting games. Among the participants, only 5.9\% had intermediate experience in using the mouse to play games, 58.8\% described themselves as experts, and 35.3\% were between expert and intermediate.

\section{Procedure}

There were four experiment conditions (Control, Player adapted, NPC adapted, Environment adapted), as previously described. I balanced the order of presentation of conditions using a Latin Square. The order 4 Latin square used to permute conditions between participants was as the following (Table ~\ref{tbl:latin-square-order}):

%-----------------------------------------------------------
\begin{center}
\label{tbl:latin-square-order}
\captionof{table}{Employed order 4 Latin square}
\begin{tabular}{+l^l^l^l}
\bhline
Control     & Player      & NPC         & Environment \\
Player      & NPC         & Environment & Control \\
NPC         & Environment & Control     & Player \\
Environment & Control     & Player      & NPC \\
\bhline
\end{tabular}
\end{center}
%-----------------------------------------------------------

All experiments were conducted on weekdays, with the first slot beginning at 11:00h and the last ending at 18:30h. Participants were contacted to choose their preferred time slots, and the overall time for one experimental session was 1:30 hours with setup and cleanup. Participants were invited to a laboratory, and after a brief introduction of the experimental procedure the data that would be collected during the session, they were asked to fill out and sign informed consent form; this was the only paper form used during the experiment. Then the GSR sensors were attached to participant's hand.

GSR sensors wired to the signal decoder can result in constraints to participant movement and to using the hands – an important factor for controlling FPS games. To diminish noisy signals and make participants feel comfortable under these limitations, the GSR sensors were attached to the hand that was handling the mouse during the game. The fingers dealing with the mouse were quite steady compared to the other hand handling the keyboard; however, the fingers used to press the left and right mouse buttons were usually also the most comfortable ones for attaching GSR sensors. Some participants used index and middle fingers to press mouse buttons and others used index and ring fingers to do so \ref{fig:gsr-attached}. I attached the GSR sensors to the middle and pinky fingers.

\img
{Attaching GSR sensors}
{GSR sensors attached to pinky and middle finger of participant's right hand}
{gsr-attached.jpg}
{gsr-attached}

Having the GSR sensors attached, participants were seated in a comfortable office chair, which was adjusted according to their individual height. They were then led to fill out the initial game demographic questionnaire. To keep GSR sensors attached during the experiment, all questionnaires after attaching GSR sensors were filled out using the mouse and the same computer system. After the demographic questionnaire, participants were asked to self-assess their arousal, valence and dominance level using the self assessment manikin (SAM) questionnaire ~\cite{bradley1994measuring}. Filling initial questionnaires after attaching the GSR sensors was meant to give enough time (approximately 5 minutes) for the participant to get used to the sensors before playing the game. Participants were then taken on a tour of the game. Different game mechanics were shown to them, and they were given about 1 minute, to make themselves comfortable with the game and the controls. Some participants didn't need this time due to prior experience with FPS games (and Half-Life 2 in particular) and asked to shorten the familiarization time. Then, participants played the four different game conditions that were previously described (Control, Player, NPC Enemy, Environment). Players were told to kill as many zombies as possible, and to die as few times as possible. Participants were not told about the differences between conditions. Each game condition was set to take 5 minutes. After each condition, participants were asked to write their comments about particular changes they noticed under that condition and its effect on their gameplay. Then they were asked to complete the intrinsic motivation inventory (IMI) questionnaire and the player experience of need satisfaction (PENS) questionnaire to rate their experience. Filling the questionnaires between conditions was done during the first part of the minimum 7 minutes of resting time before the next condition began. The resting time was meant to restore the player's GSR signal to baseline levels; however, because I normalize GSR (see next section), a full resting GSR signal was not required prior to the next gameplay session. GSR sensors recorded players' signals during both the play and the resting sessions from the beginning of the first condition to the ending of the last condition. After completion of the experiment, the sensors were removed. Participants were debriefed and compensated \$15 Canadian dollars and escorted out of the lab.

\largeimg
{Starting buttons}
{Starting buttons players need to press to start playing a specific condition}
{starting-buttons.png}
{starting-buttons}

For each play session, players were required to have their in-game avatar press one of the four buttons on the entrance ramp labeled 1 to 4 initiating one of the four designed conditions. When one of these buttons was pressed, the Affect Middleware Engine (AME) started calibrating the player's GSR signals for 60 seconds; during the calibration mode, no adaptation to any of game parameters was applied, no matter which condition was being played. After the one minute of calibration, the system decided the standard range of the GSR signal that represented the player's excitement value. Then, except for the condition number 1 (i.e., Control no adaptation mode), the captured excitement value was normalized using the calibrated player range of excitement into a value between 0 and 1. This value was then used to adjust the game parameters; this process of capturing, adjusting and applying the signal value continued for 3 minutes until the next cycle of calibrating and adaptation started. The player was required to play every condition for at least 5 minutes to ensure that I captured a complete cycle of calibrating and adaptation.

Figure ~\ref{fig:sample-signal} shows the signal values for one of the participants. In this image from left to right, the light blue line shows different conditions being played, and when the light blue line is declining towards its base value, that is the period that participant is asked to stop playing and instead is relaxing and filling out the questionnaires. The blue line is the GSR signal value of the participant, which is used as an estimation of his/her excitement level. The yellow green and pink lines show the three Player, NPC and Environment adapted conditions. In this image from left to right the conditions are Environment, Control, Player and the NPC adapted.

\largeimg
{Sample GSR signal of a participant}
{Sample GSR signal of a participant; From left to right the conditions are the Environment, Control, Player and the NPC adapted}
{sample-signal.png}
{sample-signal}

The experiment was pilot tested with six participants (2 female). Pilot participants were selected from the Interaction Lab at the University of Saskatchewan; their comments on different mechanisms and online questionnaires of the experiment were reviewed to make participants more comfortable during the experiment. Also pilot participants' physiological data was recorded to confirm the functionality of the system during the experiment.

%-----------------------------------------------------------
\begin{center}
\label{tbl:experiment-procedure}
\captionof{table}{Experiment procedure}
\begin{tabular}{+p{10cm}^r}
\bhline
\rowstyle{\bfseries}
Activity                                         & min. \\
\hline
Greetings, Consent form                          & ~2   \\
Installation of physiological sensors, a short description about the \newline
procedure and starting questionnaires            & ~3   \\
Introducing the game mechanics and a little practice if \newline
needed                                           & ~2   \\
Game condition a                                 & 5    \\
Condition questionnaire a                        & 7    \\
Game condition b                                 & 5    \\
Condition questionnaire b                        & 7    \\
Game condition c                                 & 5    \\
Condition questionnaire c                        & 7    \\
Game condition d                                 & 5    \\
Condition questionnaire d                        & 7    \\
Semi-structured post-game interview, debriefing  & ~5   \\
\rowstyle{\bfseries}
Total                                            & ~60  \\
\bhline
\end{tabular}
\end{center}
%-----------------------------------------------------------

\section{Apparatus}

Participants played the game (described previously) on a Computer running Windows 7. GSR data was collected using the Biograph Infinity sensor and encoder.

\section{Questionnaires}

Participants were assessing their experience under different conditions, using four online questionnaires. \textregistered FluidSurveys was used to host the questionnaires.

\paragraph{Self-Assessment Manikin} After each condition participants were asked to rate the condition using 5-point Self-Assessment Manikin (SAM) \cite{bradley1994measuring} scale for arousal, valence and dominance. \textregistered FluidSurveys Multiple Choice widget was modified to include the SAM scales. Figure ~\ref{fig:sam} shows the arousal, valence and dominance scales used.

\largeimg
{Self-assessment manikin}
{Self-assessment manikin for arousal, valence and dominance used after each condition and before the first condition}
{sam.png}
{sam}

\paragraph{Intrinsic Motivation Inventory} Different components of game experience were measured using the Intrinsic Motivation Inventory questionnaire \cite{ryan1983relation}. It combines several game-related subjective measurement dimensions: interest/enjoyment, perceived competence, effort and felt pressure and tension while playing the game. Each one of these components consists of a number of question items (e.g., ``While playing, I was thinking about how much I enjoyed it'' is a interest/enjoyment component item). Question items were shown in a randomized order every time the page was viewed. Each question item consists of a statement on a five-point scale ranging from 1 (strongly disagreeing with the statement) to 5 (strongly agreeing with the statement).

%\paragraph{Player Experience of Need Satisfaction}
% todo: talk about PENS

%\paragraph{Game Engagement Questionnaire}
% todo: talk about GEQ

\section{Dependent Measures}

I group my dependent measures into amount of adaptation, player performance, and player experience.

\begin{itemize}
	\item \textbf{Adaptation}: GSR Range is a measure of the span of the normalized GSR signal, giving an idea of how much range there was in GSR over the condition. Proportion is the proportion of time spent adapting the game positively (increasing difficulty) to the time spent adapting the game negatively (decreasing difficulty).

	\item \textbf{Performance}: Deaths is the number of times that a player's health became so low that they died and respawned within a condition. Kills are the number of zombies that a player killed in a condition.

	\item \textbf{Experience}: Mean GSR is a normalized measure of the galvanic skin response of a player over a whole condition. It is normalized by subtracting the pre-condition GSR value from each recorded GSR value (to essentially zero the signal prior to each condition). I also measured player experience using three subscales from two standardized scales. Competence is measured using the Player experience of Needs Satisfaction (PENS) scale ~\cite{ryan2006motivational} and reflects how much mastery a player feels they have over challenges in the game. Enjoyment is measured using the Intrinsic Motivation Inventory (IMI) scale ~\cite{ryan1982control} and reflects how much interest or enjoyment the game produced in the player.
\end{itemize}


\section{Data Analysis and Results}

I conducted a RM-ANOVA with condition (Control, Player, NPC, Environment) as a within-subjects factor on all dependent measures (see previous section). Comparisons of main effects used planned contrasts ~\cite{field2013discovering} with Control as the reference condition to show how each manipulation compared to the condition with no manipulation. Order of presentation of conditions showed no systematic effects in a one-way ANOVA, thus order is not considered in my main analysis. All comparisons of main effects and contrasts used $\alpha = 0.05$.

\subsection{How much adaptation occurred in the game?}

I adapted the game difficulty using galvanic skin response. So although GSR could indicate player arousal, in my case, it is the source of the adaptation. Thus GSR Range can tell us how much span there was in the player's experience of the game. There was a main effect of condition on GSR Range ($F_{3,45} = 4.20$, $p = .011$, $\eta^{2} = .22$). Contrasts showed that the Player and Environment conditions yielded a greater range than the control condition ($p = .007$ and $p = .028$ respectively), whereas the NPC condition did not ($p = .199$).

When looking at only the adapted conditions, there was no difference in the proportion of time spent in positive versus negative adaption ($F_{2,24} = 1.48$, $p = .248$).

\img
{Mean ratings ($\pm SD$) of GSR Range}
{Mean ratings ($\pm SD$) of GSR Range}
{chart-gsr-range.pdf}
{chart-gsr-range}

\img
{Mean ($\pm SD$) of GSR}
{Mean ($\pm SD$) of GSR}
{chart-mean-normalized-gsr.pdf}
{chart-mean-normalized-gsr}


\subsection{How did adaptation affect performance in the game?}

Player performance was measured using the number of zombies killed by players (kills) and the number of times the player was killed by the zombies (deaths). There was a no effect of condition on kills ($F_{3,45} = 3.2$, $p = .032$) or deaths ($F_{3,45} = 3.0$, $p = .042$). However, planned contrasts revealed that the NPC condition resulted in marginally fewer kills ($p = .081$) and more deaths ($p = .023$) than the control condition. In addition, when examining each adaptation direction individually, I see a main effect of condition on number of kills during positive adaptation ($F_{2,30} = 9.43$, $p = .001$, $\eta^{2} = .39$), in which NPC adaption had fewer kills than Player ($p = .007$) or Environment ($p = .001$). This is expected as the NPC condition presents fewer zombies spawning as its adaptive mechanism, giving fewer zombies for players to kill.

\img
{Zombie Kill Count}
{Number of zombies killed (dark bar shows proportion of kills during positive adaptation)}
{chart-zombie-kill-count.pdf}
{chart-zombie-kill-count}

\img
{Player deaths}
{Player deaths}
{chart-death-count.pdf}
{chart-death-count}

\subsection{How did adaptation affect player experience?}

Although GSR was used to adapt the game, and is thus expected to vary both with the player's response to the game and with their response to the adaptation, it can be used as a general estimate of player arousal during play. There was a main effect of condition on mean GSR ($F_{3,45} = 13.59$, $p \approx .000$, $\eta^{2} = .48$); contrasts showed that GSR was higher in each condition than in Control (all $p \approx .000$).

Player experience was also measured using the PENS scales for competence and autonomy and the IMI scale for interest/enjoyment. There were no main effects of condition on experienced competence ($F_{3,45} = 1.47$, $p = .235$), or enjoyment ($F_{3,45} = 2.24$, $p = .097$); however, contrasts showed that there was lower experienced competence and enjoyment in the NPC condition than in Control ($p = .041$ and $p = .006$ respectively). There were no significant contrasts for Player or Enjoyment as compared to Control (all $p > 0.1$).

\subsection{Did participants notice the adaptations?}

I asked players after each condition to comment on the game and their performance. Although not asked specifically about adaptation, players often made comments about how the game was changing. When adapting the player, 50\% commented that they noticed changed to their player; when adapting the NPCs, 31\% of participants commented that they noticed changes to the zombies' behaviors; when adapting the environment, only 13\% of players declared that they noticed environmental changes.

%todo: add some of the participants comments

\img
{Participants enjoyment on a scale of 0-4}
{Enjoyment on a scale of 0-4 (higher is better)}
{chart-imi-enjoyment.pdf}
{chart-imi-enjoyment}

\img
{Perceived competence}
{Perceived competence}
{chart-pens-competence.pdf}
{chart-pens-competence}

\subsection{Summary of Results}
The results showed that GSR was higher when I adapted the game. In addition, the Range of GSR was higher in the Environment and Player conditions. Adapting the NPC resulted in fewer kills (particularly during positive adaptation) more deaths, and reduced competence and enjoyment. Finally, the environmental manipulations were least noticed, whereas adaptations made to the player were most noticed.


% \section{Results}

% % describe 16 participant's feedbacks and comments, and general ideas on how each one of them migh have experienced different situations through the game.

% %-----------------------------------------------------------
% \begin{center}
% \label{tbl:players-stats}
% \captionof{table}{Sixteen players with their performance, divided into four experience categories spread across all four conditions}
% \begin{tabular}{+l^l^l^l^l}
% \bhline
% \rowstyle{\bfseries}
% ID       &   Performance   &   Order   &   Experience   &   Condition \\
% \hline
% 1        &   69            &   1       &   1            &   4 \\
% 2        &   74            &   1       &   2            &   1 \\
% 3        &   117           &   1       &   3            &   2 \\
% 4        &   106           &   1       &   4            &   3 \\
% 5        &   42            &   2       &   1            &   1 \\
% 6        &   86            &   2       &   2            &   2 \\
% 7        &   67            &   2       &   3            &   3 \\
% 8        &   118           &   2       &   4            &   4 \\
% 9        &   13            &   3       &   1            &   3 \\
% 10       &   106           &   3       &   2            &   4 \\
% 11       &   98            &   3       &   3            &   1 \\
% 12       &   140           &   3       &   4            &   2 \\
% 13       &   66            &   4       &   1            &   2 \\
% 14       &   58            &   4       &   2            &   3 \\
% 15       &   110           &   4       &   3            &   4 \\
% 16       &   140           &   4       &   4            &   1 \\
% \bhline
% \end{tabular}
% \end{center}
% %-----------------------------------------------------------

% \img
% {Normal Q-Q plot of players' performance}
% {Normal Q-Q plot of players' performance}
% {anova-qq-performance.pdf}
% {players-qq-performance}

% \img
% {Plot of residuals vs. fitted values for players' performance}
% {Plot of residuals vs. fitted values for players' performance}
% {anova-residuals-vs-fitted-values-performance.pdf}
% {residuals-vs-fitted-values-performance}


% \img
% {Normal Q-Q plot of players' excitement}
% {Normal Q-Q plot of players' excitement}
% {anova-qq-excitement.pdf}
% {players-qq-excitement}

% \img
% {Plot of residuals vs. fitted values for players' excitement}
% {Plot of residuals vs. fitted values for players' excitement}
% {anova-residuals-vs-fitted-values-excitement.pdf}
% {residuals-vs-fitted-values-excitement}

% %-----------------------------------------------------------
% \begin{center}
% \label{tbl:unknown}
% \captionof{table}{unknown}
% \begin{tabular}{+l^l^l^l}
% \bhline
% \rowstyle{\bfseries}
% Condition    & Mean estimation of performance   & Lower bound   & Upper bound \\
% \hline
% 1            & 58.50                            &   45.60997    &   71.39003  \\
% 2            & 98.25                            &   85.35997    &   111.14003 \\
% 3            & 101.75                           &   88.85997    &   114.64003 \\
% 4            & 91.50                            &   78.60997    &   104.39003 \\
% \bhline
% \end{tabular}
% \end{center}
% %-----------------------------------------------------------

% %%nasty from mahdi
% In the above table we see that not all the means of performances of players across the conditions are equal. We use ANOVA to test whether the means are statistically equal. The p-value corresponding the hypothesis that all the means are equal is  0.01719944. Hence we come to realize that, at the level of 5\%, not all the means are equal. This may mean that manipulating the games may have changed the performances of the players. To see whether this assumption is true, we use Tukey's multiple comparison test. The results are as following:
% %%nasty from mahdi

% %-----------------------------------------------------------
% \begin{center}
% \label{tbl:unknown}
% \captionof{table}{unknown}
% \begin{tabular}{+l^l^l^l^l}
% \bhline
% \rowstyle{\bfseries}
% Conditions' difference   &   Mean difference   &   Lower bound   &   Upper bound   &   P-value     \\
% \hline
% 2-1                      &   39.75             &   10.787245     &   68.71276      &   0.0124504   \\
% 3-1                      &   43.25             &   14.287245     &   72.21276      &   0.0082819   \\
% 4-1                      &   33.00             &   4.037245      &   61.96276      &   0.0290272   \\
% 3-2                      &   3.50              &   -25.462755    &   32.46276      &   0.9732678   \\
% 4-2                      &   -6.75             &   -35.712755    &   22.21276      &   0.8492682   \\
% 4-3                      &   -10.25            &   -39.212755    &   18.71276      &   0.6351259   \\
% \bhline
% \end{tabular}
% \end{center}
% %-----------------------------------------------------------

% % nasty from mahdi
% The first three rows of the above table state that the players have significantly lower performance in the default condition, while the performances increase in the other three condition. The lower three rows of the table state that all the three conditions have the same influence on the default such that the performers have similar performances.

% In this experiment, as mentioned earlier, we used Latin Square method. The blockings were Individuals' experiences and time order which were suspected to be nuisiance factors of this experiment. After apply the method, we gained the values:
% F-ratio of run order= 1.2083
% F-ratio of experience= 29.0333.
% The first value is small while the other is extremely large. We conclude that blocking the time order is not appropriate for such studies while experience had the potential to affect our results. In addition, we can say that different individuals' experiences resulted in different performances. This becomes more apparent when we note that if a player is more experienced than the other, s/he would have a better performance if the game is manipulated in order to make the game, sometimes, more challenging (condition 3) and sometimes of favour of the player (condition 2). The table below explains which condition is more suitable for different players with different game experiences:
% % nasty from mahdi

% %-----------------------------------------------------------
% \begin{center}
% \label{tbl:unknown}
% \captionof{table}{unknown}
% \begin{tabular}{+l^l^l^l^l}
% \bhline
% \rowstyle{\bfseries}
% Experiences' difference   & Mean difference   & Lower bound   & Upper bound   & P-value     \\
% \hline
% 2-1                       & 33.5              & 4.537245      & 62.46276      & 0.0271883   \\
% 3-1                       & 50.5              & 21.537245     & 79.46276      & 0.0037921   \\
% 4-1                       & 76.0              & 47.037245     & 104.96276     & 0.0004163   \\
% 3-2                       & 17.0              & -11.962755    & 45.96276      & 0.2745976   \\
% 4-2                       & 42.5              & 13.537245     & 71.46276      & 0.0090222   \\
% 4-3                       & 25.5              & -3.462755     & 54.46276      & 0.0812661   \\
% \bhline
% \end{tabular}
% \end{center}
% %-----------------------------------------------------------

% %-----------------------------------------------------------
% \begin{center}
% \label{tbl:unknown}
% \captionof{table}{unknown}
% \begin{tabular}{+l^l^l^l}
% \bhline
% \rowstyle{\bfseries}
% Condition     &   Mean of GSR   &   Lower bound   &   Upper bound   \\
% \hline
% Default       &   -5.29680      &   -24.13608     &   13.54248      \\
% Player        &   46.48590      &   27.64662      &   65.32518      \\
% Zombie        &   26.95377      &   8.11450       &   45.79305      \\
% Environment   &   22.99617      &   4.15690       &   41.83545      \\
% \bhline
% \end{tabular}
% \end{center}
% %-----------------------------------------------------------

% % nasty from mahdi
% p-value of the hypothesis that the excitement of players were the same across all the conditions= 0.06439932.
% the ration for experience is 2.230153 which is small. So experience doesn't have an influence on players' excitement.
% % nasty from mahdi
